<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Dovetail smart contracts modelling</title>
        
        <meta name="robots" content="noindex" />
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body class="light">
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            document.body.className = theme;
            document.querySelector('html').className = theme + ' js';
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="affix"><a href="ch00-00-introduction.html">Introduction</a></li><li><a href="ch01-00-getting-started.html"><strong aria-hidden="true">1.</strong> Getting Started</a></li><li><ol class="section"><li><a href="ch01-01-installation.html"><strong aria-hidden="true">1.1.</strong> Installation</a></li><li><a href="ch01-02-dovetail-cli.html"><strong aria-hidden="true">1.2.</strong> Dovetail CLI</a></li><li><a href="ch01-03-environment.html"><strong aria-hidden="true">1.3.</strong> Environment Prerequisites</a></li></ol></li><li><a href="ch02-00-labs.html"><strong aria-hidden="true">2.</strong> Labs</a></li><li><ol class="section"><li><a href="ch02-01-iou-tutorial.html"><strong aria-hidden="true">2.1.</strong> Corda IoU Tutorial</a></li><li><ol class="section"><li><a href="ch02-02-model.html"><strong aria-hidden="true">2.1.1.</strong> Model Smart Contract</a></li><li><a href="ch02-03-import.html"><strong aria-hidden="true">2.1.2.</strong> Import Model</a></li><li><a href="ch02-04-implement.html"><strong aria-hidden="true">2.1.3.</strong> Implement Smart Contract</a></li><li><a href="ch02-05-export.html"><strong aria-hidden="true">2.1.4.</strong> Export Smart Contract</a></li><li><a href="ch02-08-generate-corda.html"><strong aria-hidden="true">2.1.5.</strong> Generate Corda Artifacts</a></li><li><a href="ch02-09-test-corda.html"><strong aria-hidden="true">2.1.6.</strong> Test on Corda</a></li><li><ol class="section"><li><a href="ch02-09-01-cordapp-impl.html"><strong aria-hidden="true">2.1.6.1.</strong> Implement CorDapps Flows</a></li><li><a href="ch02-09-01-cordapp-gen.html"><strong aria-hidden="true">2.1.6.2.</strong> Generate CorDapps</a></li><li><a href="ch02-09-02-start-nodes.html"><strong aria-hidden="true">2.1.6.3.</strong> Start up nodes</a></li><li><a href="ch02-09-03-test-cases.html"><strong aria-hidden="true">2.1.6.4.</strong> Run test cases</a></li></ol></li></ol></li><li><a href="ch02-02-fabric-samples.html"><strong aria-hidden="true">2.2.</strong> Hyperledger Fabric Tutorials</a></li></ol></li><li><a href="ch03-00-contribute.html">Contribute</a></li><li class="affix"><a href="ch04-00-source.html">Source Code</a></li><li class="affix"><a href="ch05-00-community.html">Community</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title">Dovetail smart contracts modelling</h1>

                        <div class="right-buttons">
                            <a href="print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                            
                        </div>
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <p align="center">
  <img src ="images/TIBCO Labs final with TM2-08_email.png" />
</p>
<p align="center" >
  <b>Project Dovetail™ is an Open Source tool for modelling blockchain smart contracts</b>
</p>
<p><a href="https://travis-ci.org/TIBCOSoftware/dovetail"><img src="https://travis-ci.org/TIBCOSoftware/dovetail.svg?branch=master" alt="Documentation Status" /></a><img src="https://img.shields.io/badge/license-BSD%20style-blue.svg"/></p>
<p align="center">
  <a href="ch00-00-introduction.html#project-dovetail">Dovetail™</a> | <a href="ch00-00-introduction.html#dovetail-core">Architecture</a> | <a href="ch00-00-introduction.html#what-are-smart-contracts">Blockchains smart contracts</a> | <a href="ch00-00-introduction.html#contributing">Contributing</a> | <a href="ch00-00-introduction.html#license">License</a>
</p>
<br/>
<p>Developing blockchain solutions with today’s technology is challenging given the lack of tooling and standardization. Project Dovetail™ by TIBCO LABS™ addresses these issues by providing a graphical interface for modeling smart contracts, making them easier to write, visualize, test, and audit, all without deep programming experience. </p>
<p>Logic is abstracted from low-level code, and contracts can be developed for different blockchain stacks with little or no code. 
On-chain and off-chain computation can become more seamless, time to market is improved, and the risk of technology lock-in is reduced. Project Dovetail makes your smart contracts smarter. 
<br/></p>
<p align="center">
  <img src ="images/eventhandlers.png" />
</p>
<h1><a class="header" href="#what-are-smart-contracts" id="what-are-smart-contracts">What are Smart Contracts</a></h1>
<p>There are many definitions and descriptions of smart contracts, as each blockchain framework tends to implement this capability in its own way (if it does implement this feature at all). However, generally speaking, smart contracts (at least from an enterprise / permissioned perspective) may be thought of as application or business logic (defined in code) that runs within the context of a blockchain network itself.</p>
<p>The idea is to automate the processing of blockchain transactions across the network, use the logic to determine if a transaction will get written to the ledger, and to maintain accuracy, compliance, and trust.  In essence, smart contracts represent a method for controlling how changes are made to the underlying blockchain, in a non-centralized and (potentially) untrustworthy environment.  Supply chain transaction tracking, healthcare revenue cycle management, consumer contract execution, and government interactions are all areas in which smart contracts (business logic) may be applied.
Remember, however, that &quot;smart contracts&quot; are not necessarily &quot;smart&quot; (depends on the code) nor &quot;contracts&quot; (as they may not be viewed as legal contracts).  Thus, the term can be a bit misleading :)</p>
<h1><a class="header" href="#project-dovetail" id="project-dovetail">Project Dovetail</a></h1>
<p>Project Dovetail™ is a framework that allows for the end to end design, development, testing, and deployment of blockchain smart contracts.  Project Dovetail™ allows you to develop smart contracts based on a series of models, helping to:</p>
<ul>
<li><strong>Increase security</strong> since the modeling abstraction layer will allow for reusable and tested code derived from the model.</li>
<li><strong>Simplify</strong> development via an extendable abstraction layer (flow model)</li>
<li><strong>Decouple</strong> your code from the underlying blockchain technology</li>
<li><strong>Reduce</strong> the amount of code needed</li>
<li><strong>Increase visibility</strong> and audit-ability</li>
<li><strong>Allow customizable modeling</strong> for your industry</li>
<li><strong>Expose</strong> a better UI for the design of smart contracts</li>
</ul>
<h1><a class="header" href="#dovetail-core" id="dovetail-core">Dovetail Core</a></h1>
<p>Dovetail is based on TIBCO FLOGO™, an event-driven app framework used to develop apps for the cloud &amp; IoT edge. It can also be thought of as a lightweight <em>app kernel</em> used by open source &amp; commercial solutions like Dovetail here. The trigger used is based on the cli to generate or transpile your smart contract logic into blockchain technologies languages : R3 Corda, HyperLedger Fabric...</p>
<p>Dovetail Core provides the following key benefits:</p>
<p>⛓ <strong>Action chaining</strong> enables communication between one or more capabilities in a single, sub 10MB binary!<br/>
🏗 <strong>Common contribution model</strong> build activities and triggers that can be leveraged by all capabilities<br/>
🔨 <strong>Extensible</strong> easily extend the capabilities available by building your own action using the common interfaces<br/></p>
<h2><a class="header" href="#dovetail-core-contribution-model" id="dovetail-core-contribution-model">Dovetail Core Contribution Model</a></h2>
<p>Dovetail™ Core exposes three principal contribution interfaces that enable developers to build common capabilities and functionality. These contribution interfaces include:</p>
<ul>
<li><strong>Connector Interface</strong> a common interface for importing predefined schemas into Dovetail, Hyperledger Composer Connector is an example.</li>
<li><strong>Trigger Interface</strong> a common interface for building event-consumers that dispatch events to one or more actions. The Smart Contract TXN Trigger is an example of a trigger.</li>
<li><strong>Activity Interface</strong> a common interface for exposing common application logic in a reusable manner. Think of this as a function, such as write to ledger, publish events, etc that can be used by all Dovetail apps.</li>
</ul>
<h1><a class="header" href="#dovetail-flows" id="dovetail-flows">Dovetail Flows</a></h1>
<p>Dovetail Flows provides smart contract logic design capabilities and includes the following key highlights.</p>
<p>🌈 <strong>Painless development</strong> Visual modeler with step-back debugging capabilities &amp; elegant DSL<br/>
⚙️ <strong>Ultra-light process engine</strong> for conditional flow control</p>
<h3><a class="header" href="#zero-code-developers" id="zero-code-developers">Zero-code Developers</a></h3>
<p>If your background is in or you prefer to develop your smart contracts using zero-coding environments, then read on, because we’ve got something special for you.</p>
<p>Flows Web UI is available via <a href="https://github.com/TIBCOSoftware/dovetail/releases">Dovetail releases page</a>.</p>
<p>To report any issues with the Issue tracker on this project.</p>
<h1><a class="header" href="#dovetail-documentation" id="dovetail-documentation">Dovetail Documentation</a></h1>
<p>Dovetail documentation can be found on the <a href="https://tibcosoftware.github.io/dovetail/">documentation page</a> and the source code in the <a href="https://github.com/TIBCOSoftware/dovetail">github page</a>.</p>
<h1><a class="header" href="#contributing" id="contributing">Contributing</a></h1>
<p>Want to contribute to Project Dovetail? We've made it easy, all you need to do is fork the repository you intend to contribute to, make your changes and create a Pull Request! Once the pull request has been created, you'll be prompted to sign the CLA (Contributor License Agreement) online.</p>
<p>Not sure where to start? No problem, here are a few suggestions:</p>
<ul>
<li><a href="https://github.com/TIBCOSoftware/dovetail-contrib">dovetail-contrib</a>: This repository contains all of the contributions, such as activities, triggers, etc. Perhaps there is something missing? Create a new activity or trigger or fix a bug in an existing activity or trigger.</li>
<li>Browse all of the Project Dovetail repositories and look for issues tagged <code>kind/help-wanted</code> or <code>good first issue</code></li>
</ul>
<p>If you have any questions, feel free to post an issue and tag it as a question or email <a href="mailto:tibcolabs@tibco.com">tibcolabs@tibco.com</a>. </p>
<p>For additional details, refer to the <a href="https://github.com/TIBCOSoftware/dovetail/blob/master/CONTRIBUTING.md">“Contribution Guidelines”</a>.</p>
<h1><a class="header" href="#license" id="license">License</a></h1>
<p>The top level flogo repo, consisting of flow samples &amp; documentation, is licensed licensed under a BSD-style license. Refer to <a href="https://github.com/TIBCOSoftware/dovetail/blob/master/LICENSE">LICENSE</a> for license text.</p>
<p>Dovetail source code in <a href="https://github.com/TIBCOSoftware/dovetail-cli">dovetail-cli</a>, <a href="https://github.com/TIBCOSoftware/dovetail-contrib">dovetail-contrib</a>, <a href="https://github.com/TIBCOSoftware/dovetail-java-lib">dovetail-java-lib</a> are all licensed under a BSD-style license, refer to <a href="https://github.com/TIBCOSoftware/dovetail/blob/master/LICENSE">LICENSE</a> </p>
<h1><a class="header" href="#getting-started" id="getting-started">Getting Started</a></h1>
<p>Let’s start your Dovetail journey! There’s a lot to learn, but every journey starts
somewhere. In this chapter, we’ll discuss:</p>
<ul>
<li>Installing Dovetail Studio on Linux, macOS, and Windows</li>
<li>Installing Dovetail CLI</li>
<li>Development environment dependencies</li>
</ul>
<h2><a class="header" href="#installing-the-project-dovetail-studio" id="installing-the-project-dovetail-studio">Installing the Project Dovetail Studio</a></h2>
<p>Installing the Project Dovetail Studio is quite simple just follow these steps:</p>
<p>1.- Download the latest version for your os architecture and your blockchain target.</p>
<blockquote>
<p>You can find the latest release <a href="https://github.com/TIBCOSoftware/dovetail/releases/latest">here</a></p>
</blockquote>
<p>Or you can just execute this commands</p>
<blockquote>
<p>For Hyperledger fabric development:</p>
</blockquote>
<pre><code>mkdir dovetail_installation
cd dovetail_installation
curl -OL https://github.com/TIBCOSoftware/dovetail/releases/download/v0.2.0/TIB_dovetail-fabric_0.2.0_macosx_x86_64.zip
</code></pre>
<blockquote>
<p>For R3 Corda development:</p>
</blockquote>
<pre><code>mkdir dovetail_installation
cd dovetail_installation
curl -OL https://github.com/TIBCOSoftware/dovetail/releases/download/v0.2.0/TIB_dovetail-corda_0.2.0_macosx_x86_64.zip
</code></pre>
<blockquote>
<p>For Multitarget development:</p>
</blockquote>
<pre><code>mkdir dovetail_installation
cd dovetail_installation
curl -OL https://github.com/TIBCOSoftware/dovetail/releases/download/v0.2.0/TIB_dovetail-multitarget_0.2.0_macosx_x86_64.zip
</code></pre>
<p>2.- Unzip the downloaded release (for example on mac) (from dovetail_installation folder).</p>
<pre><code>unzip TIB_dovetail-fabric_0.2.0_macosx_x86_64.zip
</code></pre>
<h2><a class="header" href="#starting-dovetail-studio" id="starting-dovetail-studio">Starting Dovetail Studio</a></h2>
<p>To get started with your downloaded version of the Dovetail Studio in the previous step just do the following:</p>
<p>1.- Run studio</p>
<pre><code>dovetail/0.2/bin/run-studio.sh eula-accept
</code></pre>
<h2><a class="header" href="#launching-dovetail-studio" id="launching-dovetail-studio">Launching Dovetail Studio</a></h2>
<p>To launch Dovetail Studio simply open your favorite web browser, and navigate to http://localhost:8090. You'll see the initial page to create your first smart contract!</p>
<h2><a class="header" href="#installation-tutorial-video" id="installation-tutorial-video">Installation Tutorial Video</a></h2>
<video width="480" height="320" controls="controls">
    <source src="videos/dovetail_studio_install.mp4" type="video/mp4">
</video><h2><a class="header" href="#introduction" id="introduction">Introduction</a></h2>
<p>The dovetail cli is a tool to mainly generate smart contracts for a given model built using ui tool <a href="ch01-01-installation.html">Dovetail Studio</a>, so we recommend you to learn how to do that first.</p>
<h2><a class="header" href="#before-you-get-started" id="before-you-get-started">Before you get started</a></h2>
<p>Before you can get started with the cli tools you need to make sure you have the <a href="https://golang.org/doc/install">Go programming language</a> and <a href="https://git-scm.com/book/en/v2/Getting-Started-Installing-Git">git</a> installed. Go v1.13.x is required.</p>
<blockquote>
<p>Don't forget to set your <code>GOPATH</code> variable and make sure that <code>$GOPATH/bin</code> is part of your <code>PATH</code>
(see <a href="https://golang.org/doc/code.html#GOPATH">here</a> or <a href="https://github.com/golang/go/wiki/SettingGOPATH">here</a> for more details)</p>
</blockquote>
<h2><a class="header" href="#installing-the-cli-tools" id="installing-the-cli-tools">Installing the cli tools</a></h2>
<p>Copy and paste the following commands to install Project Dovetail™ commandline tool.</p>
<pre><code>curl https://github.com/TIBCOSoftware/dovetail-cli/releases/download/v0.2.0/dovetail-cli-install.sh -sSfL v0.2.0 | sh
</code></pre>
<blockquote>
<p>The binary dovetail will be in your dovetail-cli/bin directory.
You can add /path/to/dovetail-cli/bin/dovetail to your PATH env variable for easier access. </p>
</blockquote>
<h2><a class="header" href="#installation-tutorial-video-1" id="installation-tutorial-video-1">Installation Tutorial Video</a></h2>
<video width="480" height="320" controls="controls">
    <source src="videos/dovetail_cli_install.mp4" type="video/mp4">
</video>
<h2><a class="header" href="#dovetail-studio-requirements" id="dovetail-studio-requirements">Dovetail Studio Requirements</a></h2>
<h3><a class="header" href="#docker" id="docker">Docker</a></h3>
<p>Docker is needed to run Dovetail Studio, you can find the installation details here:</p>
<ul>
<li><a href="https://docs.docker.com/">Docker</a></li>
<li><a href="https://docs.docker.com/compose/install/">Docker Compose</a></li>
</ul>
<h2><a class="header" href="#hyperledger-fabric-requirements" id="hyperledger-fabric-requirements">Hyperledger Fabric Requirements</a></h2>
<h3><a class="header" href="#hyperledger-fabric-sdk" id="hyperledger-fabric-sdk">Hyperledger Fabric SDK</a></h3>
<p>If you are developing for Hyperledger Fabric, below is a link to its installation instructions.</p>
<ul>
<li><a href="https://hyperledger-fabric.readthedocs.io/en/release-1.3/install.html">Hyperledger Fabric</a></li>
</ul>
<h2><a class="header" href="#r3-corda-requirements" id="r3-corda-requirements">R3 Corda Requirements</a></h2>
<h3><a class="header" href="#java-programming-language-and-tools" id="java-programming-language-and-tools">Java Programming Language and Tools</a></h3>
<p>If you are developing for R3 Corda you will need Java runtime.</p>
<ul>
<li>IMPORTANT: <a href="https://www.oracle.com/technetwork/java/javase/downloads/index.html">Java SE Development Kit 8</a> is required</li>
<li><a href="https://maven.apache.org/install.html">Maven</a></li>
</ul>
<p>If you are developing for R3 Corda, following jars must be available in your local or public Maven Repository.</p>
<pre><code>    &lt;dependency&gt;
        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;
        &lt;artifactId&gt;kotlin-stdlib-jre8&lt;/artifactId&gt;
        &lt;version&gt;1.1.60&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;net.corda&lt;/groupId&gt;
        &lt;artifactId&gt;corda-core&lt;/artifactId&gt;
        &lt;version&gt;[2.0.0,)&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;net.corda&lt;/groupId&gt;
        &lt;artifactId&gt;corda-finance&lt;/artifactId&gt;
        &lt;version&gt;[2.0.0,)&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;com.tibco.dovetail&lt;/groupId&gt;
        &lt;artifactId&gt;dovetail-corda&lt;/artifactId&gt;
        &lt;version&gt;[0.2.0, )&lt;/version&gt;
    &lt;/dependency&gt;
</code></pre>
<blockquote>
<p>Project Dovetail™ library for R3 Corda is available <a href="https://github.com/TIBCOSoftware/dovetail-contrib/releases/download/v0.2.0/dovetail-corda-0.2.0.jar">here</a>, run following command to install it to your local Maven repository</p>
</blockquote>
<pre><code>mkdir dovetail_corda
cd dovetail_corda
curl -OL https://github.com/TIBCOSoftware/dovetail-contrib/releases/download/v0.2.0/dovetail-corda-0.2.0.jar
mvn org.apache.maven.plugins:maven-install-plugin:2.5.2:install-file -DgeneratePom=true -DgroupId=com.tibco.dovetail -DartifactId=dovetail-corda -Dversion=0.2.0 -Dfile=dovetail_corda_v0.2.0.jar -Dpackaging=jar
</code></pre>
<h2><a class="header" href="#labs" id="labs">Labs</a></h2>
<p>These labs provide you with guides, tutorials and code samples and will help you work through building and deploying Dovetail smart contracts.</p>
<h2><a class="header" href="#corda-iou-smart-contract-tutorial" id="corda-iou-smart-contract-tutorial">Corda IOU Smart Contract Tutorial</a></h2>
<p>In this tutorial, we will walk you through the steps to model, implement and test smart contracts on R3 Corda.</p>
<p>The example is a simple &quot;I owe you&quot; use case, the issuer of an IOU is obligated to pay the owner of the IOU amount issued, the ownership of the IOU can be transferred by current owner, and all transactions will be recorded on the ledger.</p>
<p>Before getting started, you should have <a href="ch01-01-installation.html">Project Dovetail™ Studio</a> and <a href="ch01-02-dovetail-cli.html">Project Dovetail™ CLI</a> installed, and your <a href="ch01-03-environment.html">development environment setup</a>.</p>
<p>Follow these steps to create the empty structure of the tutorial:</p>
<blockquote>
<ul>
<li>Create the tutorial initial structure</li>
</ul>
</blockquote>
<ul>
<li>iou_tutorials
<ul>
<li>artifacts</li>
<li>iou</li>
<li>network
<ul>
<li>corda</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre><code>mkdir -p iou_tutorial/artifacts
mkdir -p iou_tutorial/iou
mkdir -p iou_tutorial/network/corda
</code></pre>
<h2><a class="header" href="#1-model-iou-smart-contract" id="1-model-iou-smart-contract">1. Model IOU Smart Contract</a></h2>
<h3><a class="header" href="#11-introduction-to-smart-contract-modelling" id="11-introduction-to-smart-contract-modelling">1.1 Introduction to smart contract modelling</a></h3>
<p>In this section we will show step by step instructions to create the iou.bna that we will use in the next section of the tutorial.</p>
<blockquote>
<p>You can skip the instructions and download the iou.bna file <a href="tutorials/iou/iou.bna">here</a>.</p>
</blockquote>
<p>Project Dovetail™ supports <a href="https://hyperledger.github.io/composer/v0.19/reference/cto_language.html">Hyperledger Composer modeling language</a> to model smart contract assets and transactions, please refer to <a href="https://github.com/TIBCOSoftware/dovetail-contrib/tree/master/SmartContract/connector/composer">Composer Connector</a> for for more detail.</p>
<h3><a class="header" href="#12-iou-smart-contract-data-model" id="12-iou-smart-contract-data-model">1.2 IOU Smart Contract Data Model</a></h3>
<p>We will use Visual Studio Code to create IOU smart contract model.</p>
<blockquote>
<ul>
<li>Go to the folder called &quot;iou&quot; in your iou_tutorial folder created in the <a href="ch02-01-iou-tutorial.html">previous</a> page</li>
</ul>
</blockquote>
<pre><code class="language-bash">mkdir iou
</code></pre>
<blockquote>
<ul>
<li>Copy following package metadata and save it as package.json in your iou folder</li>
</ul>
</blockquote>
<pre><code class="language-json">{
  &quot;engines&quot;: {
    &quot;composer&quot;: &quot;^0.19.0&quot;
  },
  &quot;name&quot;: &quot;iou&quot;,
  &quot;version&quot;: &quot;0.0.1&quot;,
  &quot;description&quot;: &quot;IOU network&quot;
}
</code></pre>
<blockquote>
<ul>
<li>Create a models folder called &quot;models&quot; inside the top level &quot;iou&quot; folder</li>
</ul>
</blockquote>
<pre><code class="language-bash">cd iou
mkdir models
</code></pre>
<blockquote>
<ul>
<li>Copy following resource definitions and save it as iou.cto in your models folder</li>
</ul>
</blockquote>
<pre><code class="language-javascript">namespace com.example.iou

import  com.tibco.dovetail.system.*

asset  IOU identified by linearId extends LinearState {
  --&gt; Party issuer
  --&gt; Party owner
  o Amount amt
  o Amount paid
}

/*
@InitiatedBy
  - arg0: comma delimited list of authorized participants in the format of $tx.path.to.participant, or * for any participant
  - arg1: optional, comma delimited list of required attributes that must exist in the initiator's certificate in the format of name=value.
*/
@InitiatedBy(&quot;$tx.iou.issuer&quot;)
transaction IssueIOU {
  o IOU iou
}

@InitiatedBy(&quot;$tx.iou.owner&quot;)
transaction TransferIOU {
  --&gt; IOU iou //by reference because the asset is already on the ledger
  --&gt; Party newOwner
}

@InitiatedBy(&quot;$tx.iou.owner&quot;)
transaction SettleIOU {
  --&gt; IOU iou 
  --&gt; Cash[] funds
  o Amount payAmt
  --&gt; Party sendChangeTo
  --&gt; Party sendPaymentTo
}

/* 
@Query : mark transaction as query only
*/
@Query()
transaction getIOU {
  o String linearId
}

  @Query()
transaction getIOUIssuedBy {
  o String issuerPartyId
}
</code></pre>
<blockquote>
<ul>
<li>Copy following resource definitions and save it as dovetail.system.cto in your models folder</li>
</ul>
</blockquote>
<pre><code class="language-javascript">namespace com.tibco.dovetail.system

/*
for Hyperledger Fabric, id is the member's mspId
for Corda, id is the member's cert name
*/
participant Party identified by id {
  o String id
}

abstract asset State {
}
/*
All non-fungible asset should inherit from LinearState
*/
@CordaClass(&quot;net.corda.core.contracts.LinearState&quot;)
abstract asset LinearState extends State {
  o String linearId
}

@CordaClass(&quot;net.corda.core.contracts.FungibleAsset&quot;)
abstract asset FungibleAsset extends State{
  o Amount amt
  --&gt; Party issuer
  o String issuerRef
  --&gt; Party owner
}

@CordaClass(&quot;net.corda.finance.contracts.asset.Cash.State&quot;)
asset Cash identified by assetId extends FungibleAsset {  
  o String assetId
}

@CordaClass(&quot;net.corda.core.contracts.Amount&lt;Currency&gt;&quot;)
concept Amount {
  o String currency
  o Long quantity default = 0
}
</code></pre>
<blockquote>
<ul>
<li>Run zip command from iou directory to package the iou project, it will create a iou.bna file in the tutorial folder</li>
</ul>
</blockquote>
<pre><code class="language-bash">zip -r ../iou.bna *
</code></pre>
<h2><a class="header" href="#2-import-iou-smart-contract-data-model" id="2-import-iou-smart-contract-data-model">2. Import IOU Smart Contract Data Model</a></h2>
<blockquote>
<ul>
<li>Start up Project Dovetail™ Studio, it will display web URL to use</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>Go to a browser and open the Web Studio</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>Go to Connections Tab &gt; Add Connection &gt; Select Composer Connector</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>Give the connection a name, then &quot;Browse&quot; to find the iou.bna file, click &quot;Save Model&quot; button. </li>
</ul>
</blockquote>
<p><video width="480" height="320" controls="controls">
    <source src="videos/importbna.mp4" type="video/mp4">
</video></p><h2><a class="header" href="#3-implement-iou-smart-contract" id="3-implement-iou-smart-contract">3. Implement IOU Smart Contract</a></h2>
<p>In this step, we will implement the 4 transactions defined in the smart contract model in Project Dovetail™ Studio. A completed iou smart contract is also available to be imported into the Studio, see step <a href="ch02-04-implement.html#36-import-an-existing-application">3.6</a> for details.</p>
<h3><a class="header" href="#31-issueiou-transaction" id="31-issueiou-transaction">3.1 IssueIOU Transaction*</a></h3>
<blockquote>
<ul>
<li>Go to Apps Tab &gt; Create to create a new Application &quot;IOU&quot;</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>Create a flow &gt; flow name &quot;IssueIOU&quot; &gt; Select &quot;SmartContract TXN Trigger&quot; &gt; Select &quot;IOU&quot; from model dropdown &gt; Select &quot;com.example.iou.IssueIOU&quot; from transaction dropdown &gt; Click &quot;Done&quot; button</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>We will add a logger activity, ledger activity and response activity. We will also validate input before writing to ledger. </li>
</ul>
</blockquote>
<p><video width="480" height="320" controls="controls">
    <source src="videos/issueiou.mp4" type="video/mp4">
</video></p>
<h3><a class="header" href="#32-transferiou-transaction" id="32-transferiou-transaction">3.2 TransferIOU Transaction*</a></h3>
<blockquote>
<ul>
<li>Create a new flow to implement TransferIOU transaction</li>
</ul>
</blockquote>
<p><video width="480" height="320" controls="controls">
    <source src="videos/transferiou.mp4" type="video/mp4">
</video></p>
<h3><a class="header" href="#33-getiou-transaction" id="33-getiou-transaction">3.3 getIOU Transaction*</a></h3>
<blockquote>
<ul>
<li>Create a new flow to implement getIOU transaction</li>
</ul>
</blockquote>
<p><video width="480" height="320" controls="controls">
    <source src="videos/getiou.mp4" type="video/mp4">
</video></p>
<h3><a class="header" href="#34-getiouissuedby-transaction" id="34-getiouissuedby-transaction">3.4 getIOUIssuedBy Transaction*</a></h3>
<blockquote>
<ul>
<li>Create a new flow to implement getIOUIssuedBy transaction</li>
<li>We use &quot;Custom Query&quot; activity to query the ledger. This activity is <strong>NOT blockchain agnostic</strong>
<ul>
<li>define a input parameter &quot;issuerId&quot;</li>
<li>define blochchain specific query string, use _$paramName for input substitution, in this example, we use <a href="https://hyperledger-fabric.readthedocs.io/en/release-1.3/couchdb_tutorial.html">Hyperledger Fabric CouchDB query syntax</a></li>
</ul>
</li>
</ul>
</blockquote>
<blockquote>
<p>During the mapping of transaction response, you will notice tht &quot;array.&quot; is underlined with a red line, it is a UI validation error because Project Dovetail™ Studio UI does not support function yet, the error has no impact to runtime. Function will be supported in the very near future.</p>
</blockquote>
<p><video width="480" height="320" controls="controls">
    <source src="videos/getiouissuedby.mp4" type="video/mp4">
</video></p>
<h3><a class="header" href="#35-settleiou-transaction" id="35-settleiou-transaction">3.5 SettleIOU Transaction*</a></h3>
<blockquote>
<ul>
<li>Create a new flow to implement SettleIOU transaction</li>
<li>Add General/Mapper activity to calculate remaining balance using math.subtractLong(), 
Dovetail math functions are exact, exception will be raised if overflow or underflow is detected.</li>
<li>If remaining balance is equal or greater than requested payment
<ul>
<li>Add SmartContract-Corda/Payment activity to handle Cash payment processing, this flow will only run on R3 Corda. </li>
<li>Add SmartContract/Ledger activity to update IOU's paid amount</li>
</ul>
</li>
<li>Otherwise, return error</li>
</ul>
</blockquote>
<p><video width="480" height="320" controls="controls">
    <source src="videos/settleiou.mp4" type="video/mp4">
</video></p>
<h3><a class="header" href="#36-import-an-existing-application" id="36-import-an-existing-application">3.6. Import an existing application</a></h3>
<blockquote>
<ul>
<li>You can also import an application into Project Dovetail™ Studio
<ul>
<li>Go to Project Dovetail™ Studio</li>
<li>If you haven't import iou.bna file from Connections tab, you can do so now following <a href="ch02-03-import.html">this step</a></li>
<li>Create a new Application &quot;IOUImport&quot;, click on &quot;Import&quot; button, use this <a href="tutorials/iou/IOU.json">IOU.json</a></li>
</ul>
</li>
</ul>
</blockquote>
<p><video width="480" height="320" controls="controls">
    <source src="videos/importiou.mp4" type="video/mp4">
</video></p><h2><a class="header" href="#4-export-iou-smart-contract-application" id="4-export-iou-smart-contract-application">4. Export IOU Smart Contract Application</a></h2>
<blockquote>
<ul>
<li>Go to IOU application</li>
<li>Click on &quot;Export app&quot; button, save the file IOU.json to the artifacts folder inside iou_tutorial</li>
</ul>
</blockquote>
<h2><a class="header" href="#5-generate-corda-artifacts" id="5-generate-corda-artifacts">5. Generate Corda Artifacts</a></h2>
<p>Run following command from iou_tutorial directory, R3 Corda contract is written to artifacts/corda folder, put kotlin-IOU-1.0.0.jar on your classpath to develop your CorDapp. A sample IOUApp has been created and available <a href="tutorials/iou/corda.zip">here</a> inside iou_tutorial/network/corda folder</p>
<pre><code>cd iou_tutorial
dovetail corda contract generate -m artifacts/IOU.json -v 1.0.0 -t artifacts/corda --namespace com.example.iou
</code></pre>
<h2><a class="header" href="#6-test-iou-smart-contract-on-corda" id="6-test-iou-smart-contract-on-corda">6. Test IOU Smart Contract on Corda</a></h2>
<p>We will need to develop distributed applications(CorDapp) for each interested party to invoke the IOU smart contract. Let's assume following organizations are interested parties:</p>
<blockquote>
<ul>
<li>Notary: to validate and notarize transactions
<ul>
<li>Corda platform implementation</li>
</ul>
</li>
<li>Bank : cash issuer
<ul>
<li>We will use Corda finance cash flows to issue and transfer cash</li>
</ul>
</li>
<li>Regulator : an observer that receives all IOU transactions
<ul>
<li>We will use com.tibco.dovetail.container.cordapp.flows.ObserverFlowReceiver to receive and record transactions</li>
</ul>
</li>
<li>charlie: issuer of an IOU
<ul>
<li>We will implement IssueIOU initiator flow to issue an IOU to alice</li>
<li>We will implement TransferIOU receiver flow to sign and record TransferIOU transaction</li>
<li>We will implment SettleIOU initiator flow to pay IOU with Cash to bob</li>
<li>We will use com.tibco.dovetail.container.cordapp.flows.ObserverFlowInitiator to send IssueIOU and SettleIOU transactions to Regulator</li>
</ul>
</li>
<li>alice: original owner of charlie's IOU
<ul>
<li>We will implement IssueIOU receiver flow to sign and record IssueIOU transaction</li>
<li>We will implement TransferIOU initiator flow to transfer the IOU bob</li>
<li>We will use com.tibco.dovetail.container.cordapp.flows.ObserverFlowInitiator to send TransferIOU transaction to Regulator</li>
</ul>
</li>
<li>bob : new owner of charlie's IOU
<ul>
<li>We will implement TransferIOU receiver flow to sign and record TransferIOU transaction</li>
<li>We will implement SettleIOU receiver flow to sign and record SettleIOU transaction</li>
</ul>
</li>
</ul>
</blockquote>
<p>We will also use confidential identity in all transactions to protect IOU smart contract participants (charlie, alice and bob).</p>
<p>OK, let's get started.</p>
<h2><a class="header" href="#6-test-iou-smart-contract-on-corda-1" id="6-test-iou-smart-contract-on-corda-1">6. Test IOU Smart Contract on Corda</a></h2>
<h2><a class="header" href="#61-cordapp-for-charlie" id="61-cordapp-for-charlie">6.1. CorDapp for charlie</a></h2>
<blockquote>
<ul>
<li>Create an App &quot;charlie&quot;</li>
</ul>
</blockquote>
<h3><a class="header" href="#611-issueiou-initiator-flow" id="611-issueiou-initiator-flow">6.1.1. IssueIOU initiator flow</a></h3>
<blockquote>
<ul>
<li>Create a flow 
<ul>
<li>flow name: IssueIOUInitiator</li>
<li>select trigger : CorDApp Flow Initiator
<ul>
<li>select true for &quot;Use confidential identities for this transaction?&quot;</li>
<li>select true for &quot;Send transactions to observers?&quot;</li>
<li>select true for &quot;Send signed transactions to observers in a separate flow?&quot;</li>
<li>click &quot;Next&quot; button</li>
<li>add following flow input parameters
<ul>
<li>owner :    Type = Party, PartyType = Participant</li>
<li>amt:       Type = Amount<Currency> </li>
<li>extId:     Type = String</li>
<li>regulator: Type = Party, PartyType = Observer</li>
</ul>
</li>
<li>click &quot;Finish&quot; button</li>
</ul>
</li>
</ul>
</li>
<li>Open IssueIOUInitiator flow
<ul>
<li>select BuildTransactoinProposal activity
<ul>
<li>select IOU from contract model file dropdown</li>
<li>contract class : com.example.iou.IOUContract </li>
<li>select IssueIOU from transaction dropdown</li>
<li>map the activity input
<ul>
<li>use cordapp.createLinearIdFromExternalId($flow.transactionInput.extId) to map iou.linearId</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</blockquote>
<p><video width="480" height="320" controls="controls">
    <source src="videos/iouissueinitiator.mp4" type="video/mp4">
</video></p>
<h3><a class="header" href="#612-transferiou-receiver-flow" id="612-transferiou-receiver-flow">6.1.2. TransferIOU receiver flow</a></h3>
<blockquote>
<ul>
<li>Create a flow 
<ul>
<li>flow name: TransferIOUResponder</li>
<li>select trigger : CorDApp Flow Receiver
<ul>
<li>select receiver from flow type dropdown</li>
<li>select true for &quot;Use confidential identities for this transaction?&quot;</li>
<li>initiator flow name: com.alice.iou.flows.TransferIOUInitiator</li>
<li>click &quot;Finish&quot; button</li>
</ul>
</li>
</ul>
</li>
</ul>
</blockquote>
<p><video width="480" height="320" controls="controls">
    <source src="videos/ioutransferresponder.mp4" type="video/mp4">
</video></p>
<h3><a class="header" href="#613-issueiou-initiator-flow" id="613-issueiou-initiator-flow">6.1.3. IssueIOU initiator flow</a></h3>
<blockquote>
<ul>
<li>Create a flow 
<ul>
<li>flow name: SettleIOUInitiator</li>
<li>select trigger : CorDApp Flow Initiator
<ul>
<li>select true for &quot;Use confidential identities for this transaction?&quot;</li>
<li>select true for &quot;Send transactions to observers?&quot;</li>
<li>select true for &quot;Send signed transactions to observers in a separate flow?&quot;</li>
<li>click &quot;Next&quot; button</li>
<li>add following flow input parameters
<ul>
<li>linearId : Type = LinearId</li>
<li>amt:       Type = Amount<Currency> </li>
<li>regulator: Type = Party, PartyType = Observer</li>
</ul>
</li>
<li>click &quot;Finish&quot; button</li>
</ul>
</li>
</ul>
</li>
<li>Open SettleIOUInitiator flow
<ul>
<li>add SmartContract-Corda/SimpleVaultQuery activity
<ul>
<li>Configuration screen
<ul>
<li>select IOU contract</li>
<li>select com.example.iou.IOU asset</li>
<li>leave default for other properties</li>
</ul>
</li>
<li>Map input</li>
</ul>
</li>
<li>if IOU is found
<ul>
<li>add SmartContract-Corda/CashWallet activity to retrieve cash</li>
<li>add General/Mapper activity to convert wallet output to primitive array of refs</li>
<li>move BuildTransactoinProposal activity from main branch to here</li>
<li>select IOU from contract model file dropdown</li>
<li>contract class : com.example.iou.IOUContract </li>
<li>select SettleIOU from transaction dropdown</li>
<li>map the activity input</li>
</ul>
</li>
<li>otherwise throw error</li>
</ul>
</li>
</ul>
</blockquote>
<p><video width="480" height="320" controls="controls">
    <source src="videos/iousettleinitiator.mp4" type="video/mp4">
</video></p>
<h2><a class="header" href="#62-cordapp-for-alice" id="62-cordapp-for-alice">6.2. CorDapp for alice</a></h2>
<blockquote>
<ul>
<li>Create an App &quot;alice&quot;</li>
</ul>
</blockquote>
<h3><a class="header" href="#621-issueiou-receiver-flow" id="621-issueiou-receiver-flow">6.2.1. IssueIOU receiver flow</a></h3>
<p>Create IssueIOUResponder flow, instructions are same as #6.1.2</p>
<blockquote>
<ul>
<li>initiator flow name: com.charlie.iou.flows.IssueIOUInitiator</li>
</ul>
</blockquote>
<h3><a class="header" href="#621-transferiou-initiator-flow" id="621-transferiou-initiator-flow">6.2.1. TransferIOU initiator flow</a></h3>
<p><video width="480" height="320" controls="controls">
    <source src="videos/ioutransferinitiator.mp4" type="video/mp4">
</video></p>
<h2><a class="header" href="#63-cordapp-for-bob" id="63-cordapp-for-bob">6.3. CorDapp for bob</a></h2>
<blockquote>
<ul>
<li>Create an App &quot;bob&quot;</li>
</ul>
</blockquote>
<h3><a class="header" href="#631-transferiou-receiver-flow" id="631-transferiou-receiver-flow">6.3.1. TransferIOU receiver flow</a></h3>
<p>Create TransferIOUResponder flow, instructions are same as #6.1.2</p>
<blockquote>
<ul>
<li>initiator flow name: com.alice.iou.flows.TransferIOUInitiator</li>
</ul>
</blockquote>
<h3><a class="header" href="#632-settleiou-receiver-flow" id="632-settleiou-receiver-flow">6.3.2. SettleIOU receiver flow</a></h3>
<p>Create SettleIOUResponder flow, instructions are same as #6.1.2</p>
<blockquote>
<ul>
<li>initiator flow name: com.charlie.iou.flows.SettleIOUInitiator</li>
</ul>
</blockquote>
<h2><a class="header" href="#6-test-iou-smart-contract-on-corda-2" id="6-test-iou-smart-contract-on-corda-2">6. Test IOU Smart Contract on Corda</a></h2>
<h2><a class="header" href="#64-generate-cordapp-artifacts" id="64-generate-cordapp-artifacts">6.4. Generate CorDapp artifacts</a></h2>
<h3><a class="header" href="#641-export-cordapp-flows" id="641-export-cordapp-flows">6.4.1. Export CorDapp flows</a></h3>
<blockquote>
<ul>
<li>Export charlie application as charlie.json to artifacts/ folder</li>
<li>Export alice application as alice.json to artifacts/ folder</li>
<li>Export bob application as bob.json to artifacts/ folder</li>
</ul>
</blockquote>
<h3><a class="header" href="#642-generate-cordapp-dependencies" id="642-generate-cordapp-dependencies">6.4.2. Generate CorDapp dependencies</a></h3>
<p>CorDapp responder flows have compile and runtime dependency on their corresponding initiator flows, however since flows are private to each organization, Tibco Dovetail generates a base initator class without implementation details and can be shared with business partners.</p>
<p>run following command from iou_tutorial folder</p>
<pre><code class="language-bash">dovetail fabric dapp generate -m artifacts/charlie.json -v 1.0.0 -t artifacts/corda/charlie --namespace com.charlie.iou.flows --api

dovetail fabric dapp generate -m artifacts/alice.json -v 1.0.0 -t artifacts/corda/alice --namespace com.alice.iou.flows --api
</code></pre>
<h3><a class="header" href="#643-create-dependency-pom-file-for-each-organization" id="643-create-dependency-pom-file-for-each-organization">6.4.3. Create dependency pom file for each organization</a></h3>
<h4><a class="header" href="#6431-charlie" id="6431-charlie">6.4.3.1 charlie</a></h4>
<p>copy following to artifacts/charlie.pom file</p>
<pre><code class="language-javascript">&lt;dependency&gt;
    &lt;groupId&gt;com.alice.iou.flows&lt;/groupId&gt;
    &lt;artifactId&gt;alice_iou-api&lt;/artifactId&gt;
    &lt;version&gt;[1.0.0, )&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<h4><a class="header" href="#6432-alice" id="6432-alice">6.4.3.2 alice</a></h4>
<p>copy following to artifacts/alice.pom file</p>
<pre><code class="language-javascript">&lt;dependency&gt;
    &lt;groupId&gt;com.charlie.iou.flows&lt;/groupId&gt;
    &lt;artifactId&gt;charlie_iou-api&lt;/artifactId&gt;
    &lt;version&gt;[1.0.0, )&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<h4><a class="header" href="#6432-bob" id="6432-bob">6.4.3.2 bob</a></h4>
<p>copy following to artifacts/bob.pom file</p>
<pre><code class="language-javascript">&lt;dependency&gt;
    &lt;groupId&gt;com.charlie.iou.flows&lt;/groupId&gt;
    &lt;artifactId&gt;charlie_iou-api&lt;/artifactId&gt;
    &lt;version&gt;[1.0.0, )&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.alice.iou.flows&lt;/groupId&gt;
    &lt;artifactId&gt;alice_iou-api&lt;/artifactId&gt;
    &lt;version&gt;[1.0.0, )&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<h3><a class="header" href="#643-generate-cordapps" id="643-generate-cordapps">6.4.3. Generate CorDapps</a></h3>
<p>run following command from iou_tutorial folder</p>
<pre><code class="language-bash">dovetail fabric dapp generate -m artifacts/charlie.json -v 1.0.0 -t artifacts/corda/charlie --namespace com.charlie.iou.flows --dependency-file artifacts/charlie.pom

dovetail fabric dapp generate -m artifacts/alice.json -v 1.0.0 -t artifacts/corda/alice --namespace com.alice.iou.flows --dependency-file alice.pom

dovetail fabric dapp generate -m artifacts/bob.json -v 1.0.0 -t corda/bob --namespace com.bob.iou.flows --dependency-file bob.pom
</code></pre>
<h2><a class="header" href="#6-test-iou-smart-contract-on-corda-3" id="6-test-iou-smart-contract-on-corda-3">6. Test IOU Smart Contract on Corda</a></h2>
<h2><a class="header" href="#64-generate-deploy-cordapps" id="64-generate-deploy-cordapps">6.4. Generate Deploy CorDapps</a></h2>
<h3><a class="header" href="#641-copy-iou-cordapp-deployment-script" id="641-copy-iou-cordapp-deployment-script">6.4.1 Copy IOU CorDapp deployment script</a></h3>
<p>Copy deployment script to your network/corda directory</p>
<pre><code>cd iou_tutorial/network/corda
</code></pre>
<pre><code>curl -OL https://TIBCOSoftware.github.io/dovetail/tutorials/iou/corda.zip &amp;&amp; \
unzip corda.zip &amp;&amp; \
rm corda.zip
</code></pre>
<h3><a class="header" href="#642-deploy-nodes" id="642-deploy-nodes">6.4.2 Deploy nodes</a></h3>
<p>From the network/corda directory, run following command, it will take a few minutes.</p>
<pre><code class="language-bash">./gradlew clean deployNodes
</code></pre>
<h3><a class="header" href="#642-run-nodes" id="642-run-nodes">6.4.2 Run nodes</a></h3>
<p>Run following command to start up all nodes, it will take a few minutes.</p>
<pre><code class="language-bash">cd build/nodes
./runnodes
</code></pre>
<h2><a class="header" href="#6-test-iou-smart-contract-on-corda-4" id="6-test-iou-smart-contract-on-corda-4">6. Test IOU Smart Contract on Corda</a></h2>
<h3><a class="header" href="#65-run-test-cases" id="65-run-test-cases">6.5 Run test cases</a></h3>
<h4><a class="header" href="#651-issue-an-iou" id="651-issue-an-iou">6.5.1 Issue an IOU</a></h4>
<p>At charlie's terminal, issue an IOU</p>
<pre><code>flow start com.charlie.iou.flows.IssueIOUInitiatorImpl owner: &quot;O=alice,L=New York,C=US&quot;, amt: $100, extId: charlie100, regulator: &quot;O=regulator,L=New York,C=US&quot;
</code></pre>
<p>Now run following command from charlie, alice and bob's terminals, you should see the IOU is now on both charlie and alice's ledgers, but not on bob's</p>
<pre><code>run vaultQuery contractStateType: com.example.iou.IOU
</code></pre>
<p>select and copy the uuid of the IOU from the output</p>
<h4><a class="header" href="#652-transfer-the-iou" id="652-transfer-the-iou">6.5.2 Transfer the IOU</a></h4>
<p>At alice's terminal, transfer IOU to bob. </p>
<p>Before running the command, replace [YOUR_IOU_UUID] with uuid you just copied</p>
<pre><code>flow start com.alice.iou.flows.TransferIOUInitiatorImpl linearId: charlie100_[YOUR_IOU_UUID], newOwner: &quot;O=bob,L=New York,C=US&quot;, regulator: &quot;O=regulator,L=New York,C=US&quot;
</code></pre>
<p>Now run following command from charlie, alice and bob's terminals, you should see the IOU is now on both charlie and bob's ledgers, but no longer on charlie's</p>
<pre><code>run vaultQuery contractStateType: com.example.iou.IOU
</code></pre>
<h4><a class="header" href="#653-issue-cash" id="653-issue-cash">6.5.3 Issue cash</a></h4>
<p>At bank's terminal, issue and transfer cash to charlie. </p>
<pre><code>flow start net.corda.finance.flows.CashIssueFlow amount: $200, issuerBankPartyRef: 00, notary: &quot;C=GB,L=London,O=Notary&quot;

flow start net.corda.finance.flows.CashPaymentFlow amount: $200, recipient: &quot;O=charlie,L=New York,C=US&quot;, anonymous: true
</code></pre>
<h4><a class="header" href="#654-settle-the-iou" id="654-settle-the-iou">6.5.4 Settle the IOU</a></h4>
<p>At charlie's terminal, settle the IOU with cash</p>
<p>Before running the command, replace [YOUR_IOU_UUID] with uuid you copied</p>
<pre><code>flow start com.charlie.iou.flows.SettleIOUInitiatorImpl linearId: charlie100_[YOUR_IOU_UUID], amt: $50, regulator: &quot;O=regulator,L=New York,C=US&quot;
</code></pre>
<h4><a class="header" href="#655-check-iou-and-cash-status" id="655-check-iou-and-cash-status">6.5.5 Check IOU and Cash status</a></h4>
<p>At charlie's terminal, run following commands, you should see now IOU's paid amount is $50, and there is $150 left on charlie's account.</p>
<pre><code>run vaultQuery contractStateType: net.corda.finance.contracts.asset.Cash$State
run vaultQuery contractStateType: com.example.iou.IOU
</code></pre>
<h2><a class="header" href="#fabric-samples-and-tutorials" id="fabric-samples-and-tutorials">Fabric Samples and Tutorials</a></h2>
<p>You can follow Hyperledger Fabric samples and tutorials in our <a href="https://github.com/TIBCOSoftware/dovetail-contrib/tree/develop/hyperledger-fabric#getting-started">Dovetail Contrib</a> repository.</p>
<h1><a class="header" href="#contributing-to-project-dovetail" id="contributing-to-project-dovetail">Contributing to Project Dovetail</a></h1>
<p>Are you interested in contributing to Project Dovetail? If so, this doc was created specifically for you! If you’re not ready to start contributing code, no problem, feel free to check out the <a href="https://github.com/TIBCOSoftware/Dovetail/labels/kind%2Fdocs">documentation issues</a> and begin by helping enhance the documentation!</p>
<p>If you’re ready and interested to make code contributions, please contact tibcolabs@tibco.com.</p>
<h1><a class="header" href="#dovetail-source-code-projects" id="dovetail-source-code-projects">Dovetail Source Code Projects</a></h1>
<p>Project Dovetail™ consists of the following sub-projects available as separate repos:</p>
<ul>
<li><a href="https://github.com/TIBCOSoftware/dovetail">dovetail</a>:  Documentation repository and release for dovetail studio UI</li>
<li><a href="https://github.com/TIBCOSoftware/dovetail-cli">dovetail-cli</a>:  Command line tools for building Dovetail apps &amp; extensions</li>
<li><a href="https://github.com/TIBCOSoftware/dovetail-contrib">dovetail-contrib</a>: Dovetail contributions/extensions</li>
<li><a href="https://github.com/TIBCOSoftware/dovetail-java-lib">dovetail-java-lib</a>: Dovetail java runtime for smart contract flows</li>
</ul>
<h1><a class="header" href="#dovetail-community" id="dovetail-community">Dovetail Community</a></h1>
<p>You can contact us using one of the following channels:</p>
<p>Email: <a href="mailto:tibcolabs@tibco.com">tibcolabs@tibco.com</a></p>
<p>Tibcommunity: <a href="https://community.tibco.com/modules/project-dovetail">Web Page</a></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        

        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
        
        

    </body>
</html>
